<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="654px" preserveAspectRatio="none" style="width:1892px;height:654px;background:#FFFFFF;" version="1.1" viewBox="0 0 1892 654" width="1892px" zoomAndPan="magnify"><defs><filter height="300%" id="fmefqzcztkmfy" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="529.625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="17.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="507.2734" style="stroke:#A80036;stroke-width:1.0;" width="10" x="394.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="446.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="718.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="385.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="938.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1181.5" y="213.0156"/><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1339.5" y="317.0703"/><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="117.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1659.5" y="421.125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="22" x2="22" y1="89.6094" y2="647.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="399.5" x2="399.5" y1="89.6094" y2="647.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="723.5" x2="723.5" y1="89.6094" y2="647.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="943.5" x2="943.5" y1="89.6094" y2="647.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1186.5" x2="1186.5" y1="89.6094" y2="647.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1344.5" x2="1344.5" y1="89.6094" y2="647.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1502.5" x2="1502.5" y1="89.6094" y2="647.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1664.5" x2="1664.5" y1="89.6094" y2="647.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="5" y="86.5332">User</text><ellipse cx="22.5" cy="15" fill="#FEFECE" filter="url(#fmefqzcztkmfy)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M22.5,23 L22.5,50 M9.5,31 L35.5,31 M22.5,50 L9.5,65 M22.5,50 L35.5,65 " fill="none" filter="url(#fmefqzcztkmfy)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fmefqzcztkmfy)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="128" x="333.5" y="17.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="346.5" y="39.3145">&lt;&lt;component&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="375.5" y="56.9238">&lt;&lt;UI&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="340.5" y="74.5332">Graph.component</text><rect fill="#FEFECE" filter="url(#fmefqzcztkmfy)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="142" x="650.5" y="17.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="670.5" y="39.3145">&lt;&lt;component&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="657.5" y="56.9238">&lt;&lt;HTTP SERVER&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="700.5" y="74.5332">Server</text><rect fill="#FEFECE" filter="url(#fmefqzcztkmfy)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="144" x="869.5" y="17.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="876.5" y="39.3145">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="896" y="56.9238">&lt;&lt;controller&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="890.5" y="74.5332">GraphController</text><rect fill="#FEFECE" filter="url(#fmefqzcztkmfy)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="144" x="1112.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1119.5" y="56.9238">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1127.5" y="74.5332">FriendshipService</text><rect fill="#FEFECE" filter="url(#fmefqzcztkmfy)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="144" x="1270.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1277.5" y="56.9238">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1304.5" y="74.5332">UserService</text><rect fill="#FEFECE" filter="url(#fmefqzcztkmfy)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="144" x="1428.5" y="17.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1435.5" y="39.3145">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1461.5" y="56.9238">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1461" y="74.5332">dto : UserDto</text><rect fill="#FEFECE" filter="url(#fmefqzcztkmfy)" height="66.8281" style="stroke:#A80036;stroke-width:1.5;" width="152" x="1586.5" y="17.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1597.5" y="39.3145">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1623.5" y="56.9238">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="1597.5" y="74.5332">g : GraphFriendships</text><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="529.625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="17.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="507.2734" style="stroke:#A80036;stroke-width:1.0;" width="10" x="394.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="446.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="718.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="385.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="938.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1181.5" y="213.0156"/><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1339.5" y="317.0703"/><rect fill="#FFFFFF" filter="url(#fmefqzcztkmfy)" height="117.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1659.5" y="421.125"/><polygon fill="#A80036" points="382.5,117.9609,392.5,121.9609,382.5,125.9609,386.5,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="27.5" x2="388.5" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="34.5" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337" x="45.5" y="117.1045">iniciates the process of watching a user friendship network</text><polygon fill="#A80036" points="706.5,148.3125,716.5,152.3125,706.5,156.3125,710.5,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="404.5" x2="712.5" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="411.5" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="422.5" y="147.4561">GET Graph/{userID}/{level}/GraphFriendshipsPrint</text><polygon fill="#A80036" points="926.5,178.6641,936.5,182.6641,926.5,186.6641,930.5,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="728.5" x2="932.5" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="735.5" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="746.5" y="177.8076">GraphFriendshipsPrint (id,level)</text><polygon fill="#A80036" points="1169.5,209.0156,1179.5,213.0156,1169.5,217.0156,1173.5,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="948.5" x2="1175.5" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="955.5" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="966.5" y="208.1592">GetFriendshipsFromAsync(id)</text><polygon fill="#A80036" points="959.5,239.3672,949.5,243.3672,959.5,247.3672,955.5,243.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="953.5" x2="1185.5" y1="243.3672" y2="243.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="965.5" y="238.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="976.5" y="238.5107">List&lt;FriendshipDto&gt; all</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="948.5" x2="990.5" y1="273.7188" y2="273.7188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="990.5" x2="990.5" y1="273.7188" y2="286.7188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="949.5" x2="990.5" y1="286.7188" y2="286.7188"/><polygon fill="#A80036" points="959.5,282.7188,949.5,286.7188,959.5,290.7188,955.5,286.7188" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="955.5" y="268.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="966.5" y="268.8623">List&lt;List&lt;FriendshipDto&gt;&gt; llf</text><polygon fill="#A80036" points="1327.5,313.0703,1337.5,317.0703,1327.5,321.0703,1331.5,317.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="948.5" x2="1333.5" y1="317.0703" y2="317.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="955.5" y="312.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="966.5" y="312.2139">GetByIdAsync(id)</text><polygon fill="#A80036" points="959.5,343.4219,949.5,347.4219,959.5,351.4219,955.5,347.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="953.5" x2="1343.5" y1="347.4219" y2="347.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="965.5" y="342.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="976.5" y="342.5654">UserDto dto</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="948.5" x2="990.5" y1="377.7734" y2="377.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="990.5" x2="990.5" y1="377.7734" y2="390.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="949.5" x2="990.5" y1="390.7734" y2="390.7734"/><polygon fill="#A80036" points="959.5,386.7734,949.5,390.7734,959.5,394.7734,955.5,390.7734" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="955.5" y="372.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="966.5" y="372.917">Dictionary&lt;string,List&lt;string&gt;&gt; map</text><polygon fill="#A80036" points="1647.5,417.125,1657.5,421.125,1647.5,425.125,1651.5,421.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="948.5" x2="1653.5" y1="421.125" y2="421.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="955.5" y="416.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="973.5" y="416.2686">Serialize(map)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1669.5" x2="1711.5" y1="451.4766" y2="451.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1711.5" x2="1711.5" y1="451.4766" y2="464.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1670.5" x2="1711.5" y1="464.4766" y2="464.4766"/><polygon fill="#A80036" points="1680.5,460.4766,1670.5,464.4766,1680.5,468.4766,1676.5,464.4766" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1676.5" y="446.6201">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="1694.5" y="446.6201">addNode(map.Keys)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1669.5" x2="1711.5" y1="494.8281" y2="494.8281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1711.5" x2="1711.5" y1="494.8281" y2="507.8281"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1670.5" x2="1711.5" y1="507.8281" y2="507.8281"/><polygon fill="#A80036" points="1680.5,503.8281,1670.5,507.8281,1680.5,511.8281,1676.5,507.8281" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1676.5" y="489.9717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="1694.5" y="489.9717">addNode(map.Keys,map.Values)</text><polygon fill="#A80036" points="959.5,534.1797,949.5,538.1797,959.5,542.1797,955.5,538.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="953.5" x2="1663.5" y1="538.1797" y2="538.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="965.5" y="533.3232">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="983.5" y="533.3232">g</text><polygon fill="#A80036" points="415.5,564.5313,405.5,568.5313,415.5,572.5313,411.5,568.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="717.5" y1="568.5313" y2="568.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="421.5" y="563.6748">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="439.5" y="563.6748">graph(JSON)</text><polygon fill="#A80036" points="415.5,594.8828,405.5,598.8828,415.5,602.8828,411.5,598.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="722.5" y1="598.8828" y2="598.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="421.5" y="594.0264">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="439.5" y="594.0264">200 OK</text><polygon fill="#A80036" points="33.5,625.2344,23.5,629.2344,33.5,633.2344,29.5,629.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="27.5" x2="398.5" y1="629.2344" y2="629.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="39.5" y="624.3779">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269" x="57.5" y="624.3779">shows the friendship network of a specific user</text><!--MD5=[f63fb37c2a7c5b9a5a0f15d3967d50c4]
@startuml UC7_NIVEL3_VP
        hide footbox
        autonumber

        actor "User" as U
        participant "<<component>>\n<<UI>>\nGraph.component" as SYS
        participant "<<component>>\n<<HTTP SERVER>>\nServer" as C
        participant "<<component mdr>>\n<<controller>>\nGraphController" as UC
        participant "<<component mdr>>\nFriendshipService" as FS
        participant "<<component mdr>>\nUserService" as US
        participant "<<component mdr>>\n<<domain>>\n dto : UserDto" as DTO
        participant "<<component mdr>>\n<<domain>>\n g : GraphFriendships" as GRAPH

        activate U
                U -> SYS : iniciates the process of watching a user friendship network
                activate SYS
                SYS -> C : GET Graph/{userID}/{level}/GraphFriendshipsPrint
                activate C
                C -> UC : GraphFriendshipsPrint (id,level)
                activate UC
                UC -> FS : GetFriendshipsFromAsync(id)
                activate FS
                FS - -> UC : List<FriendshipDto> all
                deactivate FS
                UC - -> UC : List<List<FriendshipDto>> llf
                UC -> US : GetByIdAsync(id)
                activate US
                US - -> UC : UserDto dto
                deactivate US
                UC - -> UC : Dictionary<string,List<string>> map
                UC -> GRAPH : Serialize(map)
                activate GRAPH
                GRAPH - -> GRAPH : addNode(map.Keys)
                GRAPH - -> GRAPH : addNode(map.Keys,map.Values)
                GRAPH - -> UC : g
                deactivate GRAPH
                C - -> SYS : graph(JSON)
                deactivate UC
                C - -> SYS : 200 OK
                deactivate C
                SYS - -> U : shows the friendship network of a specific user
                deactivate SYS
        deactivate U
@enduml

PlantUML version 1.2021.14(Fri Nov 12 16:46:50 WET 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>