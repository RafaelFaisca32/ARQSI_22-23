<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="749px" preserveAspectRatio="none" style="width:1999px;height:749px;background:#FFFFFF;" version="1.1" viewBox="0 0 1999 749" width="1999px" zoomAndPan="magnify"><defs><filter height="300%" id="f5inydwq2gnnz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="548.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="18.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="239.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="469.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="239.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="411.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="538.5" y="206.8281"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="353.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="792.5" y="235.9609"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="88.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1122.5" y="265.0938"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="206.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1122.5" y="382.4922"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1327.5" y="470.7578"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1705.5" y="294.2266"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1705.5" y="411.625"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1894.5" y="529.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="88.2969" y2="665.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="244.5" x2="244.5" y1="88.2969" y2="665.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="543.5" x2="543.5" y1="88.2969" y2="665.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="797.5" x2="797.5" y1="88.2969" y2="665.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1127" x2="1127" y1="88.2969" y2="665.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1332" x2="1332" y1="88.2969" y2="665.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1521" x2="1521" y1="88.2969" y2="665.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1710" x2="1710" y1="88.2969" y2="665.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1899" x2="1899" y1="88.2969" y2="665.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="84.9951">User</text><ellipse cx="23.5" cy="15" fill="#FEFECE" filter="url(#f5inydwq2gnnz)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M23.5,23 L23.5,50 M10.5,31 L36.5,31 M23.5,50 L10.5,65 M23.5,50 L36.5,65 " fill="none" filter="url(#f5inydwq2gnnz)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="677.2842">User</text><ellipse cx="23.5" cy="690.5859" fill="#FEFECE" filter="url(#f5inydwq2gnnz)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M23.5,698.5859 L23.5,725.5859 M10.5,706.5859 L36.5,706.5859 M23.5,725.5859 L10.5,740.5859 M23.5,725.5859 L36.5,740.5859 " fill="none" filter="url(#f5inydwq2gnnz)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="62.8906" style="stroke:#A80036;stroke-width:1.5;" width="196" x="144.5" y="20.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="178.5" y="40.4014">&lt;&lt;component&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="214" y="56.6982">&lt;&lt;UI&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="151.5" y="72.9951">ChangeMood.component</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="62.8906" style="stroke:#A80036;stroke-width:1.5;" width="196" x="144.5" y="664.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="178.5" y="684.2842">&lt;&lt;component&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="214" y="700.5811">&lt;&lt;UI&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="151.5" y="716.8779">ChangeMood.component</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="62.8906" style="stroke:#A80036;stroke-width:1.5;" width="156" x="463.5" y="20.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="477.5" y="40.4014">&lt;&lt;component&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="470.5" y="56.6982">&lt;&lt;HTTP SERVER&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="518" y="72.9951">Server</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="62.8906" style="stroke:#A80036;stroke-width:1.5;" width="156" x="463.5" y="664.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="477.5" y="684.2842">&lt;&lt;component&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="470.5" y="700.5811">&lt;&lt;HTTP SERVER&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="518" y="716.8779">Server</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="62.8906" style="stroke:#A80036;stroke-width:1.5;" width="180" x="705.5" y="20.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="715" y="40.4014">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="738" y="56.6982">&lt;&lt;controller&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="712.5" y="72.9951">ChangeMoodController</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="62.8906" style="stroke:#A80036;stroke-width:1.5;" width="180" x="705.5" y="664.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="715" y="684.2842">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="738" y="700.5811">&lt;&lt;controller&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="712.5" y="716.8779">ChangeMoodController</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="175" x="1038" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1045" y="56.6982">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1081" y="72.9951">:UserService</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="175" x="1038" y="664.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1045" y="684.2842">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1081" y="700.5811">:UserService</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="175" x="1243" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1250" y="56.6982">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1312.5" y="72.9951">:User</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="175" x="1243" y="664.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1250" y="684.2842">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="1312.5" y="700.5811">:User</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="175" x="1432" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1439" y="56.6982">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1488" y="72.9951">:UserDto</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="175" x="1432" y="664.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1439" y="684.2842">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1488" y="700.5811">:UserDto</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="175" x="1621" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1628" y="56.6982">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1649" y="72.9951">:IUserRepository</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="175" x="1621" y="664.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1628" y="684.2842">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1649" y="700.5811">:IUserRepository</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="175" x="1810" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1817" y="56.6982">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="1851" y="72.9951">:IUnitOfWork</text><rect fill="#FEFECE" filter="url(#f5inydwq2gnnz)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="175" x="1810" y="664.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1817" y="684.2842">&lt;&lt;component mdr&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="1851" y="700.5811">:IUnitOfWork</text><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="548.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="18.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="239.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="469.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="239.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="411.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="538.5" y="206.8281"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="353.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="792.5" y="235.9609"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="88.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1122.5" y="265.0938"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="206.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1122.5" y="382.4922"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1327.5" y="470.7578"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1705.5" y="294.2266"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1705.5" y="411.625"/><rect fill="#FFFFFF" filter="url(#f5inydwq2gnnz)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1894.5" y="529.8906"/><polygon fill="#A80036" points="227.5,115.4297,237.5,119.4297,227.5,123.4297,231.5,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="28.5" x2="233.5" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="35.5" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="48.5" y="114.3638">Iniciates the mood update</text><polygon fill="#A80036" points="39.5,144.5625,29.5,148.5625,39.5,152.5625,35.5,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="33.5" x2="243.5" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="45.5" y="143.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="58.5" y="143.4966">asks for the updated mood</text><polygon fill="#A80036" points="227.5,173.6953,237.5,177.6953,227.5,181.6953,231.5,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="28.5" x2="233.5" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="35.5" y="172.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="47.5" y="172.6294">inserts the requested data</text><polygon fill="#A80036" points="526.5,202.8281,536.5,206.8281,526.5,210.8281,530.5,206.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="249.5" x2="532.5" y1="206.8281" y2="206.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="256.5" y="201.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="269.5" y="201.7622">PUT ChangeMood/{UserId}/{newMood}</text><polygon fill="#A80036" points="780.5,231.9609,790.5,235.9609,780.5,239.9609,784.5,235.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="548.5" x2="786.5" y1="235.9609" y2="235.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="555.5" y="230.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="568.5" y="230.895">ChangeHumorState(id,newState)</text><polygon fill="#A80036" points="1110.5,261.0938,1120.5,265.0938,1110.5,269.0938,1114.5,265.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="802.5" x2="1116.5" y1="265.0938" y2="265.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="809.5" y="260.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="822.5" y="260.0278">UserDto = GetById(id)</text><polygon fill="#A80036" points="1693.5,290.2266,1703.5,294.2266,1693.5,298.2266,1697.5,294.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1132.5" x2="1699.5" y1="294.2266" y2="294.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1139.5" y="289.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="1152.5" y="289.1606">User = GetByIdAsync(id)</text><polygon fill="#A80036" points="813.5,349.3594,803.5,353.3594,813.5,357.3594,809.5,353.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="807.5" x2="1126.5" y1="353.3594" y2="353.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="819.5" y="348.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="832.5" y="348.2935">UserDto</text><polygon fill="#A80036" points="1110.5,378.4922,1120.5,382.4922,1110.5,386.4922,1114.5,382.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="802.5" x2="1116.5" y1="382.4922" y2="382.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="809.5" y="377.4263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="822.5" y="377.4263">UserDto1 = ChangeMood(UserDto,newState)</text><polygon fill="#A80036" points="1693.5,407.625,1703.5,411.625,1693.5,415.625,1697.5,411.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1132.5" x2="1699.5" y1="411.625" y2="411.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1139.5" y="406.5591">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="1162.5" y="406.5591">User1 = GetByIdAsync(id)</text><polygon fill="#A80036" points="1315.5,466.7578,1325.5,470.7578,1315.5,474.7578,1319.5,470.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1132.5" x2="1321.5" y1="470.7578" y2="470.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1139.5" y="465.6919">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1161.5" y="465.6919">ChangeMood(newState)</text><polygon fill="#A80036" points="1882.5,525.8906,1892.5,529.8906,1882.5,533.8906,1886.5,529.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1132.5" x2="1888.5" y1="529.8906" y2="529.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1139.5" y="524.8247">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1161.5" y="524.8247">CommitAsync()</text><polygon fill="#A80036" points="808.5,585.0234,798.5,589.0234,808.5,593.0234,804.5,589.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="802.5" x2="1126.5" y1="589.0234" y2="589.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="814.5" y="583.9575">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="835.5" y="583.9575">UserDto1</text><polygon fill="#A80036" points="260.5,614.1563,250.5,618.1563,260.5,622.1563,256.5,618.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="254.5" x2="542.5" y1="618.1563" y2="618.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="266.5" y="613.0903">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="288.5" y="613.0903">200 OK</text><polygon fill="#A80036" points="34.5,643.2891,24.5,647.2891,34.5,651.2891,30.5,647.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="28.5" x2="243.5" y1="647.2891" y2="647.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="40.5" y="642.2231">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="62.5" y="642.2231">confirms the data change</text><!--MD5=[990287e45d4e3ba45d4325dda1ae6a17]
@startuml
autonumber
actor "User" as U
participant "<<component>>\n<<UI>>\nChangeMood.component" as SNG 
participant "<<component>>\n<<HTTP SERVER>>\nServer" as SN
participant "<<component mdr>>\n<<controller>>\nChangeMoodController" as CTRL
participant "<<component mdr>>\n:UserService" as SER
participant "<<component mdr>>\n:User" as US 
participant "<<component mdr>>\n:UserDto" as UDTO
participant "<<component mdr>>\n:IUserRepository" as UREP
participant "<<component mdr>>\n:IUnitOfWork" as IUNI

activate U
U -> SNG : Iniciates the mood update
activate SNG 
SNG - -> U : asks for the updated mood
deactivate SNG
U -> SNG : inserts the requested data
activate SNG 
SNG -> SN : PUT ChangeMood/{UserId}/{newMood}
activate SN
SN -> CTRL : ChangeHumorState(id,newState)
activate CTRL
CTRL -> SER :UserDto = GetById(id)
activate SER
SER -> UREP : User = GetByIdAsync(id)
activate UREP
deactivate UREP
SER - -> CTRL : UserDto
deactivate SER
CTRL -> SER : UserDto1 = ChangeMood(UserDto,newState)
activate SER
SER -> UREP : User1 = GetByIdAsync(id)
activate UREP
deactivate UREP
SER-> US : ChangeMood(newState)
activate US
deactivate US
SER -> IUNI : CommitAsync()
activate IUNI
deactivate IUNI
SER - -> CTRL : UserDto1
deactivate SER
deactivate CTRL
SN - -> SNG : 200 OK
deactivate SN
SNG - -> U : confirms the data change
deactivate SNG
deactivate U
@enduml

PlantUML version 1.2021.16beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>